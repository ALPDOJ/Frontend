@namespace Client.Pages.List
@layout SearchList
@page "/list/search/applications"

<div class="filterCardList">
	<Card>
		<Form Layout="inline" Model="_model">
			<standardformrow Block Style="padding-bottom: 11px" Title="Category">
				<FormItem>
					<TagSelect Expandable Value="_selectCategories">
						<TagSelectOption Value="cat1">Category 1</TagSelectOption>
						<TagSelectOption Value="cat2">Category 2</TagSelectOption>
						<TagSelectOption Value="cat3">Category 3</TagSelectOption>
						<TagSelectOption Value="cat4">Category 4</TagSelectOption>
						<TagSelectOption Value="cat5">Category 5</TagSelectOption>
						<TagSelectOption Value="cat6">Category 6</TagSelectOption>
						<TagSelectOption Value="cat7">Category 7</TagSelectOption>
						<TagSelectOption Value="cat8">Category 8</TagSelectOption>
						<TagSelectOption Value="cat9">Category 9</TagSelectOption>
						<TagSelectOption Value="cat10">Category 10</TagSelectOption>
						<TagSelectOption Value="cat11">Category 11</TagSelectOption>
						<TagSelectOption Value="cat12">Category 12</TagSelectOption>
					</TagSelect>
				</FormItem>
			</standardformrow>
			<standardformrow Grid Last Title="Other Options">
				<Row Gutter="16">
					<AntDesign.Col Lg="8" Md="10" Sm="10" Xs="24">
						<FormItem Label="Author">
							<Select @bind-Value="_model.ActiveUser" Placeholder="All"
								Style="max-width: 200px; width: 100%;" TItem="string" TItemValue="string">
								<SelectOptions>
									<SelectOption Label="Wang Zhaojun" TItem="string" TItemValue="string"
										Value="@("lisa")" />
								</SelectOptions>
							</Select>
						</FormItem>
					</AntDesign.Col>
					<AntDesign.Col Lg="8" Md="10" Sm="10" Xs="24">
						<FormItem Label="Rating">
							<Select @bind-Value="_model.Satisfaction" Placeholder="All"
								Style="max-width: 200px; width: 100%;" TItem="string" TItemValue="string">
								<SelectOptions>
									<SelectOption Label="Excellent" TItem="string" TItemValue="string"
										Value="@("good")" />
									<SelectOption Label="Normal" TItem="string" TItemValue="string"
										Value="@("normal")" />
								</SelectOptions>
							</Select>
						</FormItem>
					</AntDesign.Col>
				</Row>
			</standardformrow>
		</Form>
	</Card>
	<br />
	<AntList DataSource="_fakeList" Grid="_listGridType" TItem="ListItemDataType">
		<ListItem Grid="_listGridType" NoFlex>
			<Card Actions="Actions" BodyStyle="padding-bottom: 20px;" Hoverable>
				<CardMeta>
					<TitleTemplate>
						@context.Title
					</TitleTemplate>
					<AvatarTemplate>
						<Avatar Size="small" Src="@context.Avatar" />
					</AvatarTemplate>
				</CardMeta>
				<div class="cardItemContent">
					<div class="cardInfo">
						<div>
							<p>Active</p>
							<p>@FormatWan(context.ActiveUser)</p>
						</div>
						<div>
							<p>New</p>
							<p>@context.NewUser.ToString("0,0")</p>
						</div>
					</div>
				</div>
			</Card>
		</ListItem>
	</AntList>
</div>

@code

{

	private static readonly RenderFragment Download =
		@<AntDesign.Tooltip Title="@("下载")">
			<Icon Theme="outline" Type="download" />
		</AntDesign.Tooltip>
		;

	private static readonly IList<RenderFragment> Actions = new List<RenderFragment> {
		Download,
		@<AntDesign.Tooltip Title="@("Edit")">
			<Icon Theme="outline" Type="edit" />
		</AntDesign.Tooltip>
		,
		@<AntDesign.Tooltip Title="@("Share")">
			<Icon Theme="outline" Type="share-alt" />
		</AntDesign.Tooltip>
		,
		@<Dropdown>
			<Icon Theme="outline" Type="ellipsis" />
		</Dropdown>
	};

	private static RenderFragment FormatWan(int val) {
		if (val > 10000) {
			val = (int)Math.Floor((double)val / 10000);
		}

		return
			@<span>
				@val
				<span style="font-size: 14px; font-style: normal; margin-left: 2px; position: relative; top: -2px;">k</span>
			</span>
			;
	}
}